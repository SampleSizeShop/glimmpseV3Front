<div *ngIf="isIntercept"
     id="intercept">
  <div>We have added an intercept.</div>
</div>

<div *ngIf="!isIntercept"
     id="tableControls">
  <form [formGroup]="relativeGroupSizeForm" id="relativeGroupSizeForm">
    <div>
      <p>
        For equal group sizes, input a "1" in the block next to each group. This is the default study design. <br /><br />

        For unequal group sizes, specify the ratio of the group sizes. For example, consider a design with an active drug group and a placebo group. If twice as many study participants receive the placebo, a value of "2" would be selected for the placebo group, and a value of "1" would be selected for the active drug group. <br /><br />
      </p>
      <p *ngIf="warningFractionalGroups()" class="text-warning">Warning: You have chosen a fractional relative group size. Please ensure that your choices make sense (including being physically realizable).</p>
    </div>
    <br>
    <div class="table-responsive">
      <h5 *ngIf="hasDisplayName">Relative group sizes for {{displayName}}</h5>
      <table style="border-bottom: none; border-top: none;">
        <thead *ngIf="table.hasCols">
          <tr *ngIf="table.hasCols">
            <th *ngIf="table.hasCols"></th>
            <th *ngIf="table.hasCols">
              {{table.getCellColLabel(table.table[0][0])}}
            </th>
          </tr>
        </thead>
        <tbody>
          <td>
            <div style="-webkit-transform: rotate(-180deg);
                        -moz-transform: rotate(-180deg);
                        writing-mode: vertical-lr;
                        font-weight: bold">
              {{table.getCellRowLabel(table.table[0][0])}}
            </div>
          </td>
          <td>
            <table class="table table-bordered" >
              <thead  *ngIf="table.hasCols">
                <tr>
                  <td></td>
                  <td *ngFor="let col of table.table[0];">
                    {{table.getCellColValueLabel(col)}}
                  </td>
                </tr>
              </thead>
              <tbody>
              <tr *ngFor="let row of table.table">
                <td>
                  {{table.getCellRowValueLabel(row[0])}}
                </td>
                <td *ngFor="let col of row;">
                  <div>
                    <input type="number" style="box-shadow: none;"
                           formControlName="{{table.table.indexOf(row)}}-{{row.indexOf(col)}}"
                           id="{{table.table.indexOf(row)}}-{{row.indexOf(col)}}"
                           required>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </td>
        </tbody>
      </table>
    </div>
    <div *ngIf="formErrors.relativegroupsizes" class="form-group has-danger">
      <div class="form-control-feedback">{{formErrors.relativegroupsizes}}</div>
    </div>
  </form>
</div>
<ng-template #helpText>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Relative Group Size Help</h5> <button type="button" class="close" (click)="dismissHelp()">
      <i class="material-icons">close</i>
    </button>
    </div>
    <div class="modal-body">
      <h6>Glimmpse Tutorials are found <a href="https://samplesizeshop.org/education/tutorials/" target="_blank">here</a></h6>
    </div>
    <div class="modal-footer"> </div>
  </div>
</ng-template>
