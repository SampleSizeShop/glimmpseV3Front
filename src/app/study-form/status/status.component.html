<ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
  <ngb-panel id="Design">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('Design')">
        <h5 class="m-0">Design</h5>
        <mat-icon *ngIf="design">check_circle_outline</mat-icon>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <p style="padding-left: 0.5em"><b>Solve For:</b> {{solveFor}}</p>
      <p style="padding-left: 0.5em"><b> Type I Error: </b> {{study.typeOneErrorRate | json}}</p>
      <table class="table">
        <thead>
        <th class="col col-md-auto">
          ISU Factor
        </th>
        <th class="col col-md-auto">
          Type
        </th>
        <th class="col col-md-auto">
          Details
        </th>
        </thead>
        <tbody>
        <tr *ngFor="let factor of study.isuFactors.variables; let i = index" [class]="rowStyle(i)">
          <td class="col col-md-auto" data-label="Dimension">
            {{factor.name}}
          </td>
          <td class="col col-md-auto" data-label="Type">
            {{getFactorType(factor)}}
          </td>
          <td class="col col-md-auto" data-label="Units">
            {{getDetails(factor)}}
          </td>
        </tr>
        <tr *ngIf="study.gaussianCovariate" [class]="rowStyle(study.isuFactors.variables.length)">
          <td class="col col-md-auto" data-label="Dimension">
            Gaussian Covariate
          </td>
          <td class="col col-md-auto" data-label="Type">
            Gaussian Covariate
          </td>
          <td class="col col-md-auto" data-label="Units">
          </td>
        </tr>
        </tbody>
      </table>
    </ng-template>
  </ngb-panel>
  <ngb-panel id="Hypothesis">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('Hypothesis')">
        <h5 class="m-0">Hypothesis</h5>
        <mat-icon *ngIf="hypothesis">check_circle_outline</mat-icon>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <div *ngIf="!hypothesis">
        <p>Once you have defined your hypothesis, details will become available here.</p>
      </div>
      <div *ngIf="hypothesis">
        <p style="padding-left: 0.5em"><b>Hypothesis Effect:</b> {{hypothesisEffect.name}}</p>
        <p style="padding-left: 0.5em"><b>Hypothesis Nature:</b> {{hypothesisEffect.nature}}</p>
        <p style="padding-left: 0.5em"><b>Contrast:</b> {{contrast}}</p>
        <p style="padding-left: 0.5em"><b>Theta nought:</b> {{thetaNought}}</p>
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel id="Design Dimensions">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('Design Dimensions')">
        <h5 class="m-0">Design Dimensions</h5>
        <mat-icon *ngIf="dimensions">check_circle_outline</mat-icon>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <div *ngIf="!dimensions">
        Once you have defined your design dimensions, details will be available here.
      </div>
      <div *ngIf="dimensions">
        <p></p>
        <p *ngIf="solveForPower" style="padding-left: 0.5em"><b>Smallest group size:</b> {{thetaNought}}</p>
        <p style="padding-left: 0.5em"><b>Relative group sizes:</b> {{thetaNought}}</p>
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel id="Parameters">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('Parameters')">
        <h5 class="m-0">Parameters</h5>
        <mat-icon *ngIf="parameters">check_circle_outline</mat-icon>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <p style="padding-left: 0.5em"><b>Contrast:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Outcome correlation:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Repeated measure standard deviation:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Repeated measure correlation:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Intra class correlation:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Gaussian covariate variance:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Gaussian covatiate correlation:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Gaussian covariate power:</b> {{contrast}}</p>
      <p style="padding-left: 0.5em"><b>Variance scale factor:</b> {{contrast}}</p>
    </ng-template>
  </ngb-panel>
  <ngb-panel id="Optional Specifications">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('Optional Specifications')">
        <h5 class="m-0">Optional Specifications</h5>
        <mat-icon *ngIf="optional">check_circle_outline</mat-icon>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <p style="padding-left: 0.5em"><b>Confidence Intervals:</b> {{contrast}}</p>
    </ng-template>
  </ngb-panel>
</ngb-accordion>

