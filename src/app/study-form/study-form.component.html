<br>
<div style="vertical-align: middle">
  <div class="row">
    <div class="col-5">
      <h6>
        {{study.name}}: {{getCurrentStageName()}}
        <div ngbDropdown class="h-25 d-inline-block">
          <div ngbDropdownToggle class="h-25 dropdown-toggle" style="cursor: pointer;"></div>
          <div ngbDropdownMenu>
            <div *ngFor="let s of stageNames">
              <button class="h-25 dropdown-item" [class.active]="s === getCurrentStageName()">{{s}}</button>
            </div>
          </div>
        </div>
      </h6>
    </div>
    <div class="col-5"></div>
    <div class="col-1 col-md-auto">
      <mat-icon (click)="toggleHelpText()">info_outline</mat-icon>
    </div>
    <div class="col-1 col md col-md-auto">
      <mat-icon (click)="download()">save_alt</mat-icon>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-2 justify-content-start" (mouseenter) ="mouseEnterBack('div a')"  (mouseleave) ="mouseLeaveBack('div A')">
      <i class="material-icons"
         *ngIf="hasBack"
         (click)="back()"
         (keyup.ArrowLeft)="back()"
         style="  font-size: 92px;
                  opacity: 0.2;
                  padding-top: 50%"
         id="navigate_before">navigate_before</i>
    </div>
    <div [@routeSlide]="navDirection$ | async" class="col-8">
      <router-outlet #outlet="outlet"></router-outlet>
    </div>
    <div class="col-2 justify-content-end" (mouseenter) ="mouseEnterNext('div a')"  (mouseleave) ="mouseLeaveNext('div A')">
      <i class="material-icons"
         *ngIf="hasNext"
         (click)="next()"
         (keyup.ArrowRight)="next()"
         style="font-size:
         92px; opacity: 0.2; padding-top: 50%;" id="navigate_next"
         [class.disabled]="!valid" [@validInvalid]="nextValid? 'valid': 'invalid'">navigate_next</i>
    </div>
  </div>

</div>
<hr>

<a id="downloadStudy" [attr.href]="downloadStudy" download="{{study.name}}.json" hidden>Download result</a>
